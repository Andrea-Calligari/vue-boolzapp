<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://kit.fontawesome.com/5ed8349ea2.js" crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
        rel="stylesheet">
        
    <title>BoolzApp</title>

</head>

<body class="debug">
    <div id="app">
        <div class="container">
            <aside class="side-bar">
                <div class="tool-bar">
                    <img class="avatar" src="./img/avatar_io.jpg" alt="">
                    <ul class="tool-list">
                        <li class="inline"><i class="fa-solid fa-rotate-right"></i></li>
                        <li class="inline"><i class="fa-solid fa-message"></i></li>
                        <li class="inline"><i class="fa-solid fa-ellipsis-vertical"></i></li>
                    </ul>
                </div>
                <div class="notification-bar">
                    <div class="bell">
                        <i class="fa-solid fa-bell-slash"></i>
                    </div>
                    <div class="notification__body">
                        <h2 class="title">Ricevi notifiche di nuovi messaggi</h2>
                        <a class="link" href="#">Attiva notifiche desktop</a>
                    </div>
                </div>
                <section style="background-color: white;">
                    <div class="search-bar">
                        <input @keyup.enter="searchContacts()"  v-model.trim="inputSearch" type="text" placeholder="Cerca o inizia una nuova chat">
                        <!-- <i class="fa-solid fa-magnifying-glass"></i>  -->
                    </div>
                    <!-- CARD-CONTATTI -->
                    <ul>
                        <li v-for="(currentContact,i) in contactsFiltered" :class="currentIndex === i ? 'active' :'' "  @click="currentProfile(i)">
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" :src="currentContact.avatar" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">{{currentContact.name}}</h2>
                                    <p >Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:30</span>
                            </div>
                            
                        </li>
                    </ul>
                </section>
                        <!-- <li>
                            PRIMA-CARD
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" src="./img/avatar_1.jpg" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">Michele</h2>
                                    <p style="font-size: 10px;">Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:20</span>
                            </div>
                        </li>
                        <li>
                            SECONDA CARD
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" src="./img/avatar_2.jpg" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">Fabio</h2>
                                    <p style="font-size: 10px;">Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:20</span>
                            </div>
                        </li>
                        <li>
                            TERZA CARD
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" src="./img/avatar_3.jpg" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">Samuele</h2>
                                    <p style="font-size: 10px;">Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:20</span>
                            </div>
                        </li>
                        QUARTA CARD
                        <li>
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" src="./img/avatar_4.jpg" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">Alessandro B.</h2>
                                    <p style="font-size: 10px;">Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:20</span>
                            </div>
                        </li>
                        <li>
                            QUINTA-CARD
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" src="./img/avatar_5.jpg" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">Alessandro L.</h2>
                                    <p style="font-size: 10px;">Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:20</span>
                            </div>

                        </li>
                        <li>
                            SESTA-CARD
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" src="./img/avatar_6.jpg" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">Claudia</h2>
                                    <p style="font-size: 10px;">Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:20</span>
                            </div>
                        </li> -->
                        <!-- <li>
                             SETTIMA-CARD 
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" src="./img/avatar_7.jpg" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">Federico</h2>
                                    <p style="font-size: 10px;">Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:20</span>
                            </div>
                        </li>
                        <li>
                             OTTAVA-CARD 
                            <div class="card">
                                <div class="card__header">
                                    <img class="avatar" src="./img/avatar_8.jpg" alt="">
                                </div>
                                <div class="card__body">
                                    <h2 class="fs-20">Davide</h2>
                                    <p style="font-size: 10px;">Lorem ipsum dolor sit amet.</p>
                                </div>
                                <span class="align-center fs-10">16:20</span>
                            </div>
                        </li> -->
            </aside>
            <main class="main-content">
                <header class="chat-nav">
                    <div class="profile" >
                        <img class="avatar" :src="currentContact.avatar" alt="">
                        <div class="info-profile">
                            <h4>{{ currentContact.name }}</h4>
                            <p>Ultimo accesso alle ore 16:20</p>
                        </div>
                    </div>
                    <div class="chat-list">
                        <ul class="tool-list">
                            <li class="inline"><i class="fa-solid fa-rotate-right"></i></li>
                            <li class="inline"><i class="fa-solid fa-message"></i></li>
                            <li class="inline"><i class="fa-solid fa-ellipsis-vertical"></i></li>
                        </ul>
                    </div>
                </header>
                <div class="chat-main">
                    <div class="container-chat">
                        <div  v-for="messageObj in currentContact.messages" :class=" messageObj.status === 'sent' ? 'msg send':'msg recived'" >
                            <p >{{ messageObj.message }}</p>
                            <span class="abs">{{messageObj.date.slice(11,16)}}</span>
                        </div>
                    </div>
                </div>
                <div class="chat-keyboard">
                    <div class="keyboard">
                        <div class="emoji">
                            <i class="fa-regular fa-face-smile"></i>
                        </div>
                        <input @keyup.enter="newMessage()" v-model.trim="inputText" id="message" type="text" placeholder="Scrivi un messaggio">
                        <div class="rec">
                            <i class="fa-solid fa-microphone"></i>
                        </div>


                    </div>
                </div>

            </main>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>

</html>